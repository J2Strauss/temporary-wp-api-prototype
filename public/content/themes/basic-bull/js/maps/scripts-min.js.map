{"version":3,"sources":["scripts.js"],"names":["onYouTubeIframeAPIReady","players","document","querySelectorAll","i","length","YT","Player","videoId","dataset","id","playerVars","autoplay","controls","modestbranding","loop","showinfo","cc_load_policy","iv_load_policy","autohide","rel","playsinline","enablejsapi","playlist","events","onReady","onPlayerReady","e","target","mute","$","getIframe","css","addClass","ready","removeClass","prism","scrollToLinks","accordions","each","this","href","indexOf","tag","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","clndr","moment","format","add","ajax","url","dataType","success","result","number","eventObject","value","acf","event_start_date","title","rendered","event_end_date","event_start_time","event_end_time","event_location","eventData","parseJSON","console","log","template","html","forceSixRows","clickEvents","click","markup","location","empty","event","next"],"mappings":"AA4FA,SAASA,0BAIL,IAAK,IAFDC,EAAUC,SAASC,iBAAiB,uCAE/BC,EAAI,EAAGA,EAAIH,EAAQI,OAAQD,IAAK,CACrC,IAAIE,GAAGC,OAAON,EAAQG,IACrBI,QAASP,EAAQG,GAAGK,QAAQC,GACzBC,YACCC,SAAY,EACrBC,SAAY,EACZC,eAAkB,EAClBC,KAAQ,EACRC,SAAY,EACZC,eAAkB,EAClBC,eAAkB,EAClBC,SAAY,EACZC,IAAO,EACPC,YAAe,EACfC,YAAe,EACfC,SAAYtB,EAAQG,GAAGK,QAAQC,IAEhCc,QACCC,QAAYC,KAIR,SAASA,EAAcC,GACzBA,EAAEC,OAAOC,OACVC,EAAEH,EAAEC,OAAOG,aAAaC,QAQvBF,EAAE,yBAAyBG,SAAS,mBAhI1CH,EAAE5B,UAAUgC,MAAM,WAGjBJ,EAAE,QAAQK,YAAY,WAItBC,QAGAC,gBAGAC,aAGCR,EAAE,KAAKS,KAAM,YAEmC,IAArCC,KAAKC,KAAKC,QAAQ,gBACsB,IAAxCF,KAAKC,KAAKC,QAAQ,kBACnBZ,EAAEU,MAAMP,SAAU,gBAI7B,IAAIU,EAAMzC,SAAS0C,cAAc,UACjCD,EAAIE,IAAM,qCACV,IAAIC,EAAiB5C,SAAS6C,qBAAqB,UAAU,GAC7DD,EAAeE,WAAWC,aAAaN,EAAKG,GAG5C,IAAII,KAEJpB,EAAG,WAGiBqB,SAASC,OAAO,WAChBD,SAASE,IAAI,QAAS,GAAGD,OAAO,WAElDtB,EAAEwB,MACFC,IAAK,6HACLC,SAAU,OACVC,QAAS,SAASC,GAEhB,IAAIC,EAAS,GACTC,EAAa,GACjBA,GAAc,IACd9B,EAAES,KAAKmB,EAAQ,SAAUtD,EAAGyD,GAC3BF,EAASD,EAAOrD,OAChBuD,GAAc,IACdA,GAAc,YAAcC,EAAMC,IAAIC,iBAAkB,MAC7CH,GAAc,aAAeC,EAAMG,MAAMC,SAAU,MACnDL,GAAc,iBAAmBC,EAAMC,IAAIC,iBAAkB,MAC7DH,GAAc,eAAiBC,EAAMC,IAAII,eAAgB,MACzDN,GAAc,iBAAmBC,EAAMC,IAAIK,iBAAkB,MAC7DP,GAAc,eAAiBC,EAAMC,IAAIM,eAAgB,MACzDR,GAAc,gBAAkBC,EAAMC,IAAIO,eAAe,IAEpET,GADExD,GAAKuD,EAAO,EACA,IAEA,OAGPC,GAAa,IACb,IAAIU,EAAYxC,EAAEyC,UAAUX,GAC5BY,QAAQC,IAAIH,GACrBpB,EAAQpB,EAAE,aAAaoB,OACtBwB,SAAU5C,EAAE,sBAAsB6C,OAClCnD,OAAQ8C,EACRM,cAAc,EACdC,aACIC,MAAO,SAASlD,GAIlB,IAAI,IAFAmD,EAAS,OAEL3E,EAAI,EAAGA,EAAIwB,EAAOJ,OAAOnB,OAAQD,IACxC2E,GAAU,sBAAwBnD,EAAOJ,OAAOpB,GAAG4D,MAAQ,MAAQpC,EAAOJ,OAAOpB,GAAG4E,SAAW,SAGhGD,GAAU,QAEVjD,EAAE,sBAAsBmD,QACxBnD,EAAEoD,MAAMtD,QAAQuD,KAAK,sBAAsBR,KAAMI","sourcesContent":["$(document).ready(function(){\n\n\t// Remove loading class\n\t$('body').removeClass('loading');\n\n\n\t// Syntax highlighter on load\n\tprism();\n\n\t// Scroll to links that don't have URL\n\tscrollToLinks();\n\n\t// Accordions\n\taccordions();\n\n\t// Add admin-link to Wordpress link to prevent Barba\n \t$('a').each( function() {\n       \n        if ( this.href.indexOf('/wp-admin/') !== -1 || \n             this.href.indexOf('/wp-login.php') !== -1 ) {\n            $(this).addClass( 'admin-link' );\n        }\n    });\n\t\n\tvar tag = document.createElement('script');\n\ttag.src = \"https://www.youtube.com/iframe_api\";\n\tvar firstScriptTag = document.getElementsByTagName('script')[0];\n\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\t\t\n\tvar clndr = {};\n\n\t$( function() {\n\n\t\t// PARDON ME while I do a little magic to keep these events relevant for the rest of time...\n\t\tvar currentMonth = moment().format('YYYY-MM');\n\t\tvar nextMonth    = moment().add('month', 1).format('YYYY-MM');\n\n\t \t$.ajax({\n\t\t\turl: 'http://wordpress.localhost/wp-json/wp/v2/events?filter[meta_key]=event_start_date&filter[orderby]=meta_value_num&order=asc',\n\t\t\tdataType: 'json',\n\t\t\tsuccess: function(result) {\n\t\t\t \t\n\t\t\t \tvar number = \"\";\n\t\t\t \tvar eventObject= \"\";\n\t\t\t \teventObject+= \"[\";\n\t\t\t \t$.each(result, function (i, value) {\n\t\t\t \t\tnumber = result.length;\n\t\t\t \t\teventObject+= '{',\n\t\t\t \t\teventObject+= '\"date\": \"' + value.acf.event_start_date +'\", ',\n\t                eventObject+= '\"title\": \"' + value.title.rendered +'\", ',\n\t                eventObject+= '\"startDate\": \"' + value.acf.event_start_date +'\", ',\n\t                eventObject+= '\"endDate\": \"' + value.acf.event_end_date +'\", ',\n\t                eventObject+= '\"startTime\": \"' + value.acf.event_start_time +'\", ',\n\t                eventObject+= '\"endTime\": \"' + value.acf.event_end_time +'\", ',\n\t                eventObject+= '\"location\": \"' + value.acf.event_location+'\"'\n\t\t\t\t\tif(i == number-1) {  //The last one\n\t\t\t\t\t\teventObject+= '}'\n\t\t\t\t\t} else {\n\t\t\t\t\t\teventObject+= '},'\n\t\t\t\t\t} \n\t            });\n\t            eventObject+=']';\n\t            var eventData = $.parseJSON(eventObject);\n\t            console.log(eventData);\n\t\t\t\tclndr = $('#calendar').clndr({\n\t\t\t\t\ttemplate: $('#calendar-template').html(),\n\t\t\t\t\tevents: eventData,\n\t\t\t\t\tforceSixRows: true,\n\t\t\t\t\tclickEvents: {\n\t\t\t\t\t    click: function(target) {\n\t\t\t\t\t\t\t// make a <ul>\n\t\t\t\t\t\t\tvar markup = '<ul>';\n\t\t\t\t\t\t\t// loop through the events, making a <div> for each with relevation info\n\t\t\t\t\t\t\tfor(var i = 0; i < target.events.length; i++) {\n\t\t\t\t\t\t\t\tmarkup += '<div class=\"event\">' + target.events[i].title + 'at ' + target.events[i].location + '</div>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// close the </ul>\n\t\t\t\t\t\t\tmarkup += '</ul>';\n\t\t\t\t\t\t\t// put your new markup in the events container!\n\t\t\t\t\t\t\t$('.day-event-listing').empty();\n\t\t\t\t\t\t\t$(event.target).next('.day-event-listing').html( markup );\n\t\t\t\t\t\t}\n\t\t\t\t  \t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t \n\t});\n\t\n});\n\nfunction onYouTubeIframeAPIReady() {\n    \n    var players = document.querySelectorAll('.embed-background .background-video');\n    \n    for (var i = 0; i < players.length; i++) {\n        new YT.Player(players[i], {\n        \tvideoId: players[i].dataset.id,\n            playerVars: {\n            \t'autoplay': 1,\n\t\t\t\t'controls': 0,\n\t\t\t\t'modestbranding': 1,\n\t\t\t\t'loop': 1,\n\t\t\t\t'showinfo': 0,\n\t\t\t\t'cc_load_policy': 0,\n\t\t\t\t'iv_load_policy': 3,\n\t\t\t\t'autohide': 0,\n\t\t\t\t'rel': 0,\n\t\t\t\t'playsinline': 1,\n\t\t\t\t'enablejsapi': 1,\n\t\t\t\t'playlist': players[i].dataset.id,\n            },\n\t\t\tevents: {\n\t\t\t\t'onReady' : onPlayerReady\n\t\t\t}\n        });\n\n        function onPlayerReady(e) {\n\t\t    e.target.mute();\n\t\t   $(e.target.getIframe()).css({\n\t\t  //   \t\"min-width\": \"100%\",\n\t\t\t\t// \"position\": \"absolute\",\n\t\t\t\t// \"padding-bottom\" : \"56%\",\n\t\t\t\t// \"top\": \"50%\",\n\t\t\t\t// \"left\": \"50%\",\n\t\t\t\t// \"transform\": \"translate(-50%, -50%)\",\n\t\t    })\n\t\t    $('.background-component').addClass('playing-video');\n\t\t   \n\t\t}\n\n    }\n\n     \n\n}\n"],"file":"../scripts-min.js"}