{"version":3,"sources":["scripts.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../scripts.js","sourcesContent":["$(document).ready(function(){\n\n\t// Remove loading class\n\t$('body').removeClass('loading');\n\n\n\t// Syntax highlighter on load\n\tprism();\n\n\t// Scroll to links that don't have URL\n\tscrollToLinks();\n\n\t// Accordions\n\taccordions();\n\n\t// Add admin-link to Wordpress link to prevent Barba\n \t$('a').each( function() {\n       \n        if ( this.href.indexOf('/wp-admin/') !== -1 || \n             this.href.indexOf('/wp-login.php') !== -1 ) {\n            $(this).addClass( 'admin-link' );\n        }\n    });\n\t\n\tvar tag = document.createElement('script');\n\ttag.src = \"https://www.youtube.com/iframe_api\";\n\tvar firstScriptTag = document.getElementsByTagName('script')[0];\n\tfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n\n\t\n\n\t// Fire clndr.js if element exists\n    if ( $('#calendar').length ) {\n\n    \tvar clndr = {};\n\t\tvar currentMonth = moment().format('YYYY-MM');\n\t\tvar nextMonth    = moment().add('month', 1).format('YYYY-MM');\n\t\tvar $eventsContainer = $('#events-container');\n\n    \tcalenderFunction();\n\n    \t$('.event-filter').on('click', function(e){\n\n    \t\te.preventDefault();\n\n    \t\t$eventsContainer.addClass('loading-events');\n\n    \t\tif ( !$(this).hasClass('reset-events') ) {\n\n    \t\t\t$filterCategory = '&filter['+$(this).data('type')+']';\n\t\t   \t\t$categorySlug = '='+$(this).data('category-slug');\n\n    \t\t} else {\n\n    \t\t\t$filterCategory = \"\";\n\t\t\t\t$categorySlug = \"\";\n\n    \t\t};\n    \t\t\n    \t\t$.ajax({\n\t\t\t\turl: 'http://wordpress.localhost/wp-json/wp/v2/events?filter[meta_key]=event_start_date&filter[orderby]=meta_value_num&order=asc'+$filterCategory+$categorySlug,\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: function(result) {\n\t\t\t\t \t\n\t\t\t\t\t// Events object\n\t\t\t\t \tvar number = \"\";\n\t\t\t\t \tvar eventObject= \"\";\n\t\t\t\t \teventObject+= \"[\";\n\t\t\t\t \t\n\t\t\t\t \t$.each(result, function (i, value) {\n\t\t\t\t \t\t\n\t\t\t\t \t\t// Total number of events to determine last one\n\t\t\t\t \t\tnumber = result.length;\n\n\t\t\t\t \t\t// If post does not have image\n\t\t\t\t \t\tif (value.acf.event_image == false) {\n\t\t\t\t \t\t\teventImageThumbnail = \"\";\n\t\t\t\t \t\t\teventImageLarge = \"\";\n\t\t\t\t \t\t} else {\n\t\t\t\t \t\t\tif (value.acf.event_image.mime_type == \"image/gif\") {\n\t\t\t\t \t\t\t\teventImageThumbnail = value.acf.event_image.url;\n\t\t\t\t \t\t\t\teventImageLarge = value.acf.event_image.url;\n\t\t\t\t \t\t\t} else {\n\t\t\t\t \t\t\t\teventImageThumbnail = value.acf.event_image[\"sizes\"][\"thumbnail_horizontal\"];\n\t\t\t\t \t\t\t\teventImageLarge = value.acf.event_image[\"sizes\"][\"large_horizontal\"];\t\n\t\t\t\t \t\t\t}\n\t\t\t\t \t\t}\n\n\t\t\t\t \t\teventObject+= '{',\n\t\t\t\t \t\teventObject+= '\"date\": \"' + value.acf.event_start_date +'\", ',\n\t\t\t\t        eventObject+= '\"title\": \"' + value.title.rendered +'\", ',\n\t\t\t\t        eventObject+= '\"excerpt\": \"' + value.acf.event_excerpt +'\", ',\n\t\t\t\t        eventObject+= '\"imageUrl\": \"' + value.acf.event_image.url +'\", ',\n\t\t\t\t        eventObject+= '\"imageThumbnail\": \"' + eventImageThumbnail +'\", ',\n\t\t\t\t        eventObject+= '\"imageLarge\": \"' + eventImageLarge +'\", ',\n\t\t\t\t        eventObject+= '\"imageAlt\": \"' + value.acf.event_image.alt +'\", ',\n\t\t\t\t        eventObject+= '\"startDate\": \"' + value.acf.event_start_date +'\", ',\n\t\t\t\t        eventObject+= '\"endDate\": \"' + value.acf.event_end_date +'\", ',\n\t\t\t\t        eventObject+= '\"startTime\": \"' + value.acf.event_start_time +'\", ',\n\t\t\t\t        eventObject+= '\"endTime\": \"' + value.acf.event_end_time +'\", ',\n\t\t\t\t        eventObject+= '\"location\": \"' + value.acf.event_location +'\", ',\n\t\t\t\t        eventObject+= '\"streetAddress\": \"' + value.acf.event_street_address +'\", ',\n\t\t\t\t        eventObject+= '\"city\": \"' + value.acf.event_city +'\", ',\n\t\t\t\t        eventObject+= '\"state\": \"' + value.acf.event_state +'\", ',\n\t\t\t\t        eventObject+= '\"zipCode\": \"' + value.acf.event_zip_code +'\", ',\n\t\t\t\t        eventObject+= '\"categoryName\": \"' + value.acf.event_category.name +'\", ',\n\t\t\t\t        eventObject+= '\"categorySlug\": \"' + value.acf.event_category.slug +'\", ',\n\t\t\t\t        eventObject+= '\"link\": \"' + value.link+'\"'\n\t\t\t\t\t\tif(i == number-1) {  //The last one\n\t\t\t\t\t\t\teventObject+= '}'\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teventObject+= '},'\n\t\t\t\t\t\t} \n\t\t\t\t    });\n\n\t\t\t\t    eventObject+=']';\n\n\t\t\t\t    var eventData = $.parseJSON(eventObject);\n\n\t\t\t\t    clndr.setEvents(eventData);\n\n\t\t\t\t    setTimeout(function(){\n  \t\t\t\t\t\t\n  \t\t\t\t\t\t$eventsContainer.removeClass('loading-events');\n\n\t\t\t\t\t}, 1000);\n\n\t\t\t\t}\n\t\t\t});\n\n    \t});\n\n\t\t\n\n\t\t\n\n\t \tfunction calenderFunction(options) {\n\n\t \t\t$eventsContainer.addClass('loading-events');\n\n\t \t\t// Default filter parameters settings for the url\n\t \t\tvar $filterCategory = \"\",\n\t \t\t\t$categorySlug = \"\",\n\t\t\t\tfilter = $.extend({\n\t\t    \t\tfilterCategory : '',\n\t\t    \t\tcategorySlug : ''\n\t\t    \t}, options );\n\n\t\t    if ( filter.filterCategory != undefined && filter.categorySlug != undefined) {\n\n\t\t    \t$filterCategory = '&filter['+filter.filterCategory+']';\n\t\t    \t$categorySlug = '='+filter.categorySlug;\n\n\t\t    } \n\n\t\t \t$.ajax({\n\t\t\t\turl: 'http://wordpress.localhost/wp-json/wp/v2/events?filter[meta_key]=event_start_date&filter[orderby]=meta_value_num&order=asc'+$filterCategory+$categorySlug,\n\t\t\t\tdataType: 'json',\n\t\t\t\tsuccess: function(result) {\n\n\t\t\t\t\t// Events object\n\t\t\t\t \tvar number = \"\";\n\t\t\t\t \tvar eventObject= \"\";\n\t\t\t\t \teventObject+= \"[\";\n\t\t\t\t \t\n\t\t\t\t \t$.each(result, function (i, value) {\n\t\t\t\t \t\t\n\t\t\t\t \t\t// Total number of events to determine last one\n\t\t\t\t \t\tnumber = result.length;\n\n\t\t\t\t \t\t// If post does not have image\n\t\t\t\t \t\tif (value.acf.event_image == false) {\n\t\t\t\t \t\t\teventImageThumbnail = \"\";\n\t\t\t\t \t\t\teventImageLarge = \"\";\n\t\t\t\t \t\t} else {\n\t\t\t\t \t\t\tif (value.acf.event_image.mime_type == \"image/gif\") {\n\t\t\t\t \t\t\t\teventImageThumbnail = value.acf.event_image.url;\n\t\t\t\t \t\t\t\teventImageLarge = value.acf.event_image.url;\n\t\t\t\t \t\t\t} else {\n\t\t\t\t \t\t\t\teventImageThumbnail = value.acf.event_image[\"sizes\"][\"thumbnail_horizontal\"];\n\t\t\t\t \t\t\t\teventImageLarge = value.acf.event_image[\"sizes\"][\"large_horizontal\"];\t\n\t\t\t\t \t\t\t}\n\t\t\t\t \t\t}\n\n\t\t\t\t \t\teventObject+= '{',\n\t\t\t\t \t\teventObject+= '\"date\": \"' + value.acf.event_start_date +'\", ',\n\t\t                eventObject+= '\"title\": \"' + value.title.rendered +'\", ',\n\t\t                eventObject+= '\"excerpt\": \"' + value.acf.event_excerpt +'\", ',\n\t\t                eventObject+= '\"imageUrl\": \"' + value.acf.event_image.url +'\", ',\n\t\t                eventObject+= '\"imageThumbnail\": \"' + eventImageThumbnail +'\", ',\n\t\t                eventObject+= '\"imageLarge\": \"' + eventImageLarge +'\", ',\n\t\t                eventObject+= '\"imageAlt\": \"' + value.acf.event_image.alt +'\", ',\n\t\t                eventObject+= '\"startDate\": \"' + value.acf.event_start_date +'\", ',\n\t\t                eventObject+= '\"endDate\": \"' + value.acf.event_end_date +'\", ',\n\t\t                eventObject+= '\"startTime\": \"' + value.acf.event_start_time +'\", ',\n\t\t                eventObject+= '\"endTime\": \"' + value.acf.event_end_time +'\", ',\n\t\t                eventObject+= '\"location\": \"' + value.acf.event_location +'\", ',\n\t\t                eventObject+= '\"streetAddress\": \"' + value.acf.event_street_address +'\", ',\n\t\t                eventObject+= '\"city\": \"' + value.acf.event_city +'\", ',\n\t\t                eventObject+= '\"state\": \"' + value.acf.event_state +'\", ',\n\t\t                eventObject+= '\"zipCode\": \"' + value.acf.event_zip_code +'\", ',\n\t\t                eventObject+= '\"categoryName\": \"' + value.acf.event_category.name +'\", ',\n\t\t                eventObject+= '\"categorySlug\": \"' + value.acf.event_category.slug +'\", ',\n\t\t                eventObject+= '\"link\": \"' + value.link+'\"'\n\t\t\t\t\t\tif(i == number-1) {  //The last one\n\t\t\t\t\t\t\teventObject+= '}'\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\teventObject+= '},'\n\t\t\t\t\t\t} \n\t\t            });\n\n\t\t            eventObject+=']';\n\n\t\t            var eventData = $.parseJSON(eventObject);\n\n\t\t            console.log(eventData);\n\n\t\t\t\t\tclndr = $('#calendar').clndr({\n\t\t\t\t\t\ttemplate: $('#calendar-template').html(),\n\t\t\t\t\t\tevents: eventData,\n\t\t\t\t\t\tforceSixRows: false,\n\t\t\t\t\t\tclickEvents: {\n\t\t\t\t\t\t    click: function(target) {\n\t\t\t\t\t\t\t\t// make a <ul>\n\t\t\t\t\t\t\t\tvar markup = '<ul>';\n\t\t\t\t\t\t\t\t// loop through the events, making a <div> for each with relevation info\n\t\t\t\t\t\t\t\tfor(var i = 0; i < target.events.length; i++) {\n\t\t\t\t\t\t\t\t\tmarkup += '<div class=\"event\">' + target.events[i].title + ' at ' + target.events[i].location + '</div>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// close the </ul>\n\t\t\t\t\t\t\t\tmarkup += '</ul>';\n\t\t\t\t\t\t\t\t// put your new markup in the events container!\n\t\t\t\t\t\t\t\t$('.day-event-listing').empty();\n\t\t\t\t\t\t\t\t$(event.target).next('.day-event-listing').html( markup );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t  \t},\n\t\t\t\t\t  \tdoneRendering: function() {\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    var day=1, \n\t\t\t\t\t\t    \tweek=1, \n\t\t\t\t\t\t    \tthisCLNDR = $(this)[0][\"element\"];\n\n\t\t\t\t\t\t    // Make the background rows alternate colour\n\t\t\t\t\t\t    thisCLNDR.find(\".day\").each(function() {\n\t\t\t\t\t\t        if (day == 8) { day = 1; week++; }\n\t\t\t\t\t\t        if (week % 2 === 0) { $(this).addClass(\"alternate-bg\"); }\n\t\t\t\t\t\t        day++;\n\t\t\t\t\t\t    });\n\n\t\t\t\t\t\t    // Display a notice if there are no events for a month\n\t\t\t\t\t\t    var thisMonthEvents = thisCLNDR.find(\".event-listing\").length;\n\t\t\t\t\t\t    \n\t\t\t\t\t\t    if (thisMonthEvents == 0) {\n\t\t\t\t\t\t        thisCLNDR.find(\".event-listings-container\").append(\n\t\t\t\t\t\t            \"<div style='text-align:center;' class='event-item'>No events found</div>\"\n\t\t\t\t\t\t        );\n\t\t\t\t\t\t    }\n\n\t\t\t\t\t\t\t// Group events depending on data-date value\n\t\t\t\t\t\t\tvar $eventListings = $('.event-listing');\n\t\t\t\t\t\t\t    dates = {};\n\t\t\t\t\t\t\t    \n\t\t\t\t\t\t\t$eventListings.each(function(){\n\t\t\t\t\t\t\t   dates[$(this).data('date')] = '';\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tfor (date in dates) {\n\t\t\t\t\t\t\t\tvar $month = moment(date).format('MMM');\n\t\t\t\t\t\t\t\tvar $dayName = moment(date).format('ddd');\n\t\t\t\t\t\t\t\tvar $dayNumber = moment(date).format('D');\n\t\t\t\t\t\t\t  \t$eventListings.filter('[data-date='+ date +']').wrapAll('<div class=\"event-listing-group\"></div>').first().before('<div class=\"event-group-date\" data-day=\"' + $dayName + '\"  data-month=\"' + $month + '\">' + $dayNumber + '</div>');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Events text filter\n\t\t\t\t\t\t\tvar $eventsFilterItem = $('.event-listing');\n\n\t\t\t\t\t\t\t$('#events-filter').keyup(debounce(function() {\n\n\t\t\t\t\t\t\t\tvar val = '^(?=.*\\\\b' + $.trim($(this).val()).split(/\\s+/).join('\\\\b)(?=.*\\\\b') + ').*$',\n\t\t\t\t\t\t\t\t\treg = RegExp(val, 'i'),\n\t\t\t\t\t\t\t\t\ttext;\n\n\t\t\t\t\t\t\t\t$eventsFilterItem.show().filter(function() {\n\t\t\t\t\t\t\t\t\ttext = $(this).text().replace(/\\s+/g, ' ');\n\t\t\t\t\t\t\t\t\treturn !reg.test(text);\n\t\t\t\t\t\t\t\t}).hide();\n\n\t\t\t\t\t\t\t\t// Hide group if there aren't any events in this day\n\t\t\t\t\t\t\t\t$('.event-listing-group').each( function() {\n\t\t\t\t\t\t\t\t\t$(this).show();\n\t\t\t\t\t\t\t\t\tif($(this).children('.event-listing:visible').length < 1 ){\n\t\t\t\t\t\t\t\t\t\t$(this).hide();\n\t\t\t\t\t\t\t\t\t} \n\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}, 300));\n\n\t\t\t\t\t\t\tfunction debounce(func, wait, immediate) {\n\t\t\t\t\t\t\t\tvar timeout;\n\t\t\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\t\t\tvar context = this,\n\t\t\t\t\t\t\t\t\targs = arguments;\n\t\t\t\t\t\t\t\t\tvar later = function() {\n\t\t\t\t\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\t\t\t\t\tif (!immediate) func.apply(context, args);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tvar callNow = immediate && !timeout;\n\t\t\t\t\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t\t\t\t\tif (callNow) func.apply(context, args);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tsetTimeout(function(){\n  \t\t\t\t\t\t\n  \t\t\t\t\t\t$eventsContainer.removeClass('loading-events');\n\n\t\t\t\t\t}, 1000);\n\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t}\t\t\t\n\t\n\t}\n\t\n});\n\nfunction onYouTubeIframeAPIReady() {\n    \n    var players = document.querySelectorAll('.embed-background .background-video');\n    \n    for (var i = 0; i < players.length; i++) {\n        new YT.Player(players[i], {\n        \tvideoId: players[i].dataset.id,\n            playerVars: {\n            \t'autoplay': 1,\n\t\t\t\t'controls': 0,\n\t\t\t\t'modestbranding': 1,\n\t\t\t\t'loop': 1,\n\t\t\t\t'showinfo': 0,\n\t\t\t\t'cc_load_policy': 0,\n\t\t\t\t'iv_load_policy': 3,\n\t\t\t\t'autohide': 0,\n\t\t\t\t'rel': 0,\n\t\t\t\t'playsinline': 1,\n\t\t\t\t'enablejsapi': 1,\n\t\t\t\t'playlist': players[i].dataset.id,\n            },\n\t\t\tevents: {\n\t\t\t\t'onReady' : onPlayerReady\n\t\t\t}\n        });\n\n        function onPlayerReady(e) {\n\t\t    e.target.mute();\n\t\t   $(e.target.getIframe()).css({\n\t\t  //   \t\"min-width\": \"100%\",\n\t\t\t\t// \"position\": \"absolute\",\n\t\t\t\t// \"padding-bottom\" : \"56%\",\n\t\t\t\t// \"top\": \"50%\",\n\t\t\t\t// \"left\": \"50%\",\n\t\t\t\t// \"transform\": \"translate(-50%, -50%)\",\n\t\t    })\n\t\t    $('.background-component').addClass('playing-video');\n\t\t   \n\t\t}\n\n    }\n\n     \n\n}\n"]}